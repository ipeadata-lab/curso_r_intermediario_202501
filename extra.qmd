---
title: "IDEs alÃ©m do RStudio"
subtitle: "E ferramentas de IA"
---


A Ãºltima aula do curso foi dedicada para conversar sobre as dÃºvidas. Durante essa aula, dois temas foram mais discutidos: outras possibilidades de ambiente de desenvolvimento integrado (IDE) como o VS Code e o Positron, e a utilizaÃ§Ã£o de ferramentas de inteligÃªncia artificial (IA) nessas IDEs.

Neste contexto, utilizaremos o termo IA como sinÃ´nimo de ferramentas que utilizam *large language models* (LLMs) para auxiliar na escrita de cÃ³digos. Ou seja: ferramentas que fazem sugestÃµes de cÃ³digos, apresentam um chat onde Ã© possÃ­vel fazer perguntas e obter sugestÃ£o de blocos de cÃ³digo, etc.

A seguir, elencaremos cada uma das IDEs discutidas e as principais ferramentas de IA que podem ser utilizadas em cada uma delas.

## Cuidados ao utilizar ferramentas de IA

Antes de comentar sobre as ferramentas de IA,  Ã© importante lembrar que a utilizaÃ§Ã£o de ferramentas de IA em ambientes de desenvolvimento pode apresentar riscos de seguranÃ§a e privacidade. 

Para evitar problemas, leia os termos de uso e a polÃ­tica de privacidade das ferramentas de IA que vocÃª estÃ¡ utilizando. Se vocÃª estÃ¡ usando uma ferramenta de IA que acessa a internet, Ã© importante ter cuidado com os dados que vocÃª estÃ¡ compartilhando.

- Confira se existe alguma configuraÃ§Ã£o de privacidade que vocÃª pode ajustar.

- Evite utilizar ferramentas de IA para escrever cÃ³digos que envolvam dados sensÃ­veis.

- NÃ£o compartilhe cÃ³digos, dados, textos ou qualquer outro formato que tenha informaÃ§Ãµes sensÃ­veis ou confidenciais com ferramentas de IA.

Essas recomendaÃ§Ãµes nÃ£o sÃ£o exaustivas: Ã© importante tomar muito cuidado ao lidar com dados sensÃ­veis e confidenciais, e sempre buscar informaÃ§Ãµes sobre a seguranÃ§a e privacidade das ferramentas que vocÃª estÃ¡ utilizando. Converse com pessoas que trabalham com vocÃª, com a equipe de TI e de seguranÃ§a da sua instituiÃ§Ã£o, e busque informaÃ§Ãµes sobre as prÃ¡ticas que a instituiÃ§Ã£o tem recomendado para lidar com o uso de ferramentas de IA.


## RStudio

Neste curso e no [curso de introduÃ§Ã£o](https://ipeadata-lab.github.io/curso_r_intro_202409/), utilizamos o RStudio (da [Posit](https://posit.co/)) para programar em R.

O RStudio Ã© a IDE **mais utilizada** para programar em R, e foi criada para isso: ser um ambiente integrado para programar em R.

Dentre as ferramentas de IA que podem ser utilizadas no RStudio, destacamos o [GitHub Copilot](https://copilot.github.com/). 

O GitHub Copilot originalmente apresenta duas funcionalidades: sugestÃ£o de cÃ³digos enquanto escrevemos, e o Copilot Chat (similar ao ChatGPT). Entretanto, no RStudio apenas a sugestÃ£o de cÃ³digos estÃ¡ disponÃ­vel.

Para ativar o Copilot no RStudio, Ã© necessÃ¡rio acessar o menu `Tools` > `Global Options` > `Copilot` e selecionar a opÃ§Ã£o `Enable GitHub Copilot`. Se o menu do Copilot nÃ£o aparecer, significa que o RStudio estÃ¡ desatualizado[^rstudio].

[^rstudio]: Para atualizar o RStudio, acesse o [site do RStudio Desktop](https://posit.co/download/rstudio-desktop/) para baixar o instalador mais recente.

SerÃ¡ necessÃ¡rio fazer a autentiÃ§Ã£o com a sua conta do GitHub.


::: {layout-ncol=2}
![Ativar o Copilot no RStudio](images/rstudio-copilot-enable.png)

![Copilot ativado no RStudio](images/rstudio-copilot-enabled.png)
:::


Depois de ativar o Copilot, vocÃª verÃ¡ as sugestÃµes enquanto escreve o cÃ³digo no RStudio. Para utilizar uma sugestÃ£o, basta pressionar `Tab` para aceitar a sugestÃ£o. 

Mas atenÃ§Ã£o: o Copilot pode sugerir cÃ³digos que nÃ£o estÃ£o corretos, entÃ£o Ã© importante sempre revisar o cÃ³digo gerado, e entender o que ele estÃ¡ fazendo.


No exemplo abaixo, comecei carregando dois pacotes e com o nome de um dataset (`dados::pinguins`), e o Copilot sugeriu o cÃ³digo para criar um grÃ¡fico. PorÃ©m ao executar o cÃ³digo, um erro foi gerado pois o Copilot errou o nome da variÃ¡vel. Depois de corrigir o nome da variÃ¡vel, o grÃ¡fico foi gerado corretamente: 

![Exemplo de uso do Copilot no RStudio](images/pinguins.gif)

Uma dica para evitar o erro acima Ã© colocar o resultado da funÃ§Ã£o `dplyr::glimpse()` como comentÃ¡rio (`#`) no Script. Assim, o Copilot terÃ¡ o contexto de quais sÃ£o as variÃ¡veis do dataset, e poderÃ¡ fazer sugestÃµes com menos erros:

![Exemplo de uso do Copilot no RStudio - Com glimpse](images/pinguins2.gif)

Em projetos e scripts com mais cÃ³digo, o Copilot tende a fazer sugestÃµes melhores, por ter mais contexto.

Outra dica Ã© escrever como comentÃ¡rios o que vocÃª quer fazer, e o Copilot faz a sugestÃ£o do cÃ³digo. 


Confira o [manual do RStudio](https://docs.posit.co/ide/user/ide/guide/tools/copilot.html) para mais informaÃ§Ãµes sobre o GitHub Copilot no RStudio.

### `{gptstudio}`

<img src="images/logo-gptstudio.png" class="img-rstudio" align="right" width="120px"/>

O pacote [`{gptstudio}`](https://michelnivard.github.io/gptstudio/articles/chat.html) foi criado para facilitar o uso de *LLMs* quando trabalhamos com R.

Ele tambÃ©m funciona com outras IDEs, porÃ©m o RStudio Ã© a IDE que apresenta a melhor integraÃ§Ã£o com o pacote.

A ideia do pacote Ã© que podemos utilizar o chat (por exemplo, do GPT) diretamente do RStudio com uma extensÃ£o (Addin). Entretanto, esse Addin funciona com Shiny, o que faz com que a sessÃ£o do R fique ocupada enquanto o chat estÃ¡ aberto. Ou seja: nÃ£o Ã© possÃ­vel utilizar o chat e continuar a executar cÃ³digos em R ao mesmo tempo.

[![Exemplo de uso do pacote gptstudio. Fonte da imagem: documentaÃ§Ã£o do pacote](images/gptstudio-ggplot2-example.gif)](https://michelnivard.github.io/gptstudio/articles/chat.html)


## Visual Studio Code (VS Code)

O Visual Studio Code (VS Code) Ã© uma IDE desenvolvida pela Microsoft, e Ã© uma das IDEs mais populares para programar em diversas linguagens de programaÃ§Ã£o. O VS Code apresenta uma loja de extensÃµes, onde Ã© possÃ­vel instalar diversas extensÃµes para facilitar o desenvolvimento em diversas linguagens. 

Mas atenÃ§Ã£o: o VS Code nÃ£o Ã© a IDE "mais fÃ¡cil" para programar em R. Existem vÃ¡rias configuraÃ§Ãµes necessÃ¡rias para programar em R no VS Code, e a experiÃªncia de programar em R no RStudio Ã© mais amigÃ¡vel e simples para quem estÃ¡ comeÃ§ando.

Para saber mais sobre o uso do VS Code com R, consulte:

- [DocumentaÃ§Ã£o do VS Code: *R in Visual Studio Code*](https://code.visualstudio.com/docs/languages/r)

- Post [R no VS Code](https://lente.dev/posts/vscode-r/), por [Caio Lente](https://lente.dev/).



### GitHub Copilot no VS Code

O VS Code oferece a experiÃªncia mais completa de integraÃ§Ã£o com o GitHub Copilot[^microsoft].

[^microsoft]: Ã‰ importante lembrar tambÃ©m que a GitHub tambÃ©m Ã© da Microsoft.

Para instalar o GitHub Copilot no VS Code, Ã© necessÃ¡rio procurar por "GitHub Copilot" na loja de extensÃµes, e instalar a extensÃ£o oficial.


![ExtensÃ£o do GitHub Copilot no VS Code](images/vs-code-copilot-extension.png)

Depois de instalar a extensÃ£o, o botÃ£o do Copilot ficarÃ¡ disponÃ­vel ao lado da barra de pesquisa (no menu superior da tela):

![BotÃ£o do Copilot no VS Code](images/vs-code-copilot-button.png) 

Com este botÃ£o, Ã© possÃ­vel acessar o Chat do Copilot no VS Code:

![Copilot Chat no VS Code](images/vs-code-chat.png)

O Chat do Copilot Ã© a minha ferramenta favorita no VS Code, pois podemos fazer referÃªncia a arquivos do nosso projeto.

Exemplo de uso do Chat do Copilot, usando um arquivo Quarto (`.qmd`):


![Exemplo do Copilot Chat no VS Code](images/vs-code-chat-2.png)

Perceba que o Copilot inclusive gera sugestÃµes de blocos de cÃ³digos que podemos utilizar (neste caso, como o arquivo contÃ©m textos com marcaÃ§Ãµes em Markdown, a sugestÃ£o Ã© em Markdown):

![Exemplo do Copilot Chat no VS Code - Parte 2](images/vs-code-chat-3.png)


A funcionalidade de sugestÃ£o de cÃ³digos tambÃ©m existe, e Ã© similar ao que vimos no RStudio.

Dentro do script, tambÃ©m podemos usar o atalho `Ctrl/Command + I` para abrir uma caixa de texto, e escrever um prompt para o Copilot. O Copilot irÃ¡ sugerir cÃ³digos baseados no prompt que vocÃª escreveu, diretamente no script.

### Outras extensÃµes

Como mencionado anteriormente, o VS Code possui uma loja de extensÃµes, onde Ã© possÃ­vel instalar diversas extensÃµes para facilitar o desenvolvimento em diversas linguagens.

Existem outras extensÃµes que permitem utilizar ferramentas de IA no VS Code, mas para evitar a repetiÃ§Ã£o de informaÃ§Ãµes, apresentamos uma [lista de extensÃµes que permitem utilizar ferramentas de IA no VS Code/Positron](#positron-outras-extensoes) no tÃ³pico sobre o Positron.



## Positron

Um breve contexto histÃ³rico: atÃ© 2022, a empresa que desenvolvia o RStudio era chamada de... **RStudio PBC**. Em 2022, a empresa mudou de nome para Posit. Essa mudanÃ§a de nome foi feita para refletir a expansÃ£o da empresa para alÃ©m da IDE RStudio. Desde entÃ£o, a Posit tem desenvolvido novas ferramentas e produtos para usar alÃ©m do R, como o [Positron](https://posit.co/positron/).

O Positron Ã© uma IDE que permite programar com Python e R. Ele Ã© uma alternativa ao RStudio e ao VS Code, e Ã© uma opÃ§Ã£o para quem programa em vÃ¡rias linguagens de programaÃ§Ã£o.

![Captura de tela do Positron](images/positron.png)



O Positron Ã© visualmente parecido com o VS Code, pois Ã© baseado no [CODE OSS](https://github.com/microsoft/vscode) (a versÃ£o open-source do VS Code). PorÃ©m, o Positron foi desenvolvido para ser usado para anÃ¡lise de dados com R e Python.



Comentamos anteriormente que o VS Code apresenta algumas dificuldades para programar em R: esse nÃ£o Ã© o caso do Positron, pois **foi desenvolvido para facilitar o uso do R e Python**. No canto superior direito da tela existe um botÃ£o que permite alternar entre R e Python:

![Captura de tela do Positron: BotÃ£o para alterar entre R e Python](images/positron-r-python.png)


Outra coisa muito legal Ã© que o Positron tem acesso Ã  loja de extensÃµes do VS Code, entÃ£o a maioria das extensÃµes citadas anteriormente para o VS Code podem ser utilizadas no Positron.


![Captura de tela do Positron: ExtensÃµes](images/positron-extensoes.png)


- [Veja como comeÃ§ar a usar o Positron na documentaÃ§Ã£o](https://positron.posit.co/start.html)

- Live da Curso-R: [Positron: o filho do RStudio com o VS Code](https://www.youtube.com/live/1wwPgLsJCZw?feature=shared) com Caio Lente.

### GitHub Copilot no Positron

Anteriormente, comentamos que:

  - O VS Code oferece a experiÃªncia mais completa de integraÃ§Ã£o com o GitHub Copilot, e

  - o Positron Ã© baseado no CODE OSS, a versÃ£o open-source do VS Code.
  
EntÃ£o a lÃ³gica seria que o GitHub Copilot estivesse disponÃ­vel de forma completa no Positron, certo? **Errado**.

AtÃ© o momento da produÃ§Ã£o deste texto, **o GitHub Copilot nÃ£o estÃ¡ disponÃ­vel na loja de extensÃµes Positron ğŸ˜­**

Como comentamos na aula sobre [Git e GitHub](git-github.qmd), muitas ferramentas sÃ£o desenvolvidas por lÃ¡, e o Positron Ã© uma delas. EntÃ£o fizemos uma busca nas [issues do repositÃ³rio](https://github.com/posit-dev/positron/issues) a discussÃ£o sobre o GitHub Copilot no Positron, e encontramos algumas issues que abordam o assunto.

Pontos principais:

- [Junho/2024 - #476](https://github.com/posit-dev/positron/issues/476#issuecomment-2195868720):  A extensÃ£o do GitHub Copilot Ã© apenas oficialmente suportada (e licenciada para funcionar) dentro do Visual Studio Code (a versÃ£o comercial da Microsoft, nÃ£o a versÃ£o Open Source), entÃ£o a autenticaÃ§Ã£o nÃ£o funcionarÃ¡ no Positron. A Posit estÃ¡ trabalhando em uma soluÃ§Ã£o para isso.

- [Julho/2024 - #3871](https://github.com/posit-dev/positron/discussions/3871#discussioncomment-9961736): "NÃ³s gostarÃ­amos de ter suporte para o GitHub Copilot no futuro, mas por enquanto existem muitas extensÃµes que fornecem Chat, Completions Inline, e outras modalidades de uso de GenAI." - [Tom Mock](https://github.com/jthomasmock) (que trabalha na Posit)

**Em resumo:**


::: {.callout-warning}
## GitHub Copilot no Positron (resumo)
Existe limitaÃ§Ãµes de licenÃ§a para o uso do GitHub Copilot no Positron. A equipe da Positron estÃ¡ trabalhando para encontrar uma soluÃ§Ã£o para isso. Por enquanto, eles recomendam explorar outras extensÃµes que fornecem funcionalidades similares ao Copilot. 
:::

### Outras extensÃµes {#positron-outras-extensoes}

Como mencionado anteriormente, o Positron tem acesso Ã  loja de extensÃµes do VS Code, entÃ£o a maioria das extensÃµes citadas anteriormente para o VS Code podem ser utilizadas no Positron.

A seguir, temos uma lista de extensÃµes que estÃ£o disponÃ­veis na loja de extensÃµes do Positron (e do VS Code), e que permitem utilizar ferramentas de IA no Positron:

- [Gemini Code Assist](https://blog.google/technology/developers/gemini-code-assist-free/) da Google

![Captura de tela do Positron: ExtensÃµes -> Gemini Code Assist](images/positron-gemini-code-assist.png)



- [Codeium](https://codeium.com/vscode_tutorial) - [Manual sobre como usar](https://codeium.com/university)

![Captura de tela do Positron: ExtensÃµes -> Codeium](images/positron-codeium.png)

- [Continue](https://docs.continue.dev/getting-started/overview)

![Captura de tela do Positron: ExtensÃµes -> Continue](images/positron-continue.png)


::: {.callout-warning}

## Qual extensÃ£o baixar no Positron/VS Code?

As lojas de extensÃ£o do VS Code e do Positron sÃ£o muito grandes, e existem muitas extensÃµes disponÃ­veis. 

Quando pesquisamos algum tema, MUITAS extensÃµes podem aparecer. Nem sempre as extensÃµes sÃ£o boas ou confiÃ¡veis... EntÃ£o como escolher? 

Algumas dicas para ajudar a escolher uma extensÃ£o:

- Veja quem Ã© o desenvolvedor da extensÃ£o (ou empresa responsÃ¡vel). Por exemplo, a extensÃ£o do Gemini Code Assist Ã© da Google, entÃ£o Ã© uma extensÃ£o confiÃ¡vel.

![](images/extensao-autor.png){class="borda-imagem" fig-align="center" width="80%"}

- Veja a popularidade da extensÃ£o. ExtensÃµes mais populares tendem a ser mais confiÃ¡veis: mais pessoas jÃ¡ testaram, aprovaram e recomendaram por aÃ­. Dentre as que citamos anteriormente, a Continue e Codeium sÃ£o as mais populares: atÃ© agora, mais de 204 mil pessoas jÃ¡ baixaram a Continue, e 121 mil jÃ¡ baixaram o Codeium. **Mas atenÃ§Ã£o:** ter menos downloads nÃ£o significa necessariamente que a extensÃ£o seja ruim! Ela pode ser mais recente, como Ã© o caso do Gemini Code Assist.

![](images/extensao-data.png){class="borda-imagem" fig-align="center" width="80%"}

- Veja tambÃ©m quais extensÃµes outras pessoas da sua Ã¡rea estÃ£o utilizando! 

:::


## Pacotes de IA para R (independentes da IDE)

AtÃ© agora, comentamos de ferramentas de IA que podem ser utilizadas nas IDEs RStudio, VS Code e Positron. 

Mas existem pacotes de R que permitem utilizar ferramentas de IA diretamente no R, sem depender de uma IDE especÃ­fica.

:::{.callout-important}

Este material foi finalizado em fevereiro/2025, porÃ©m esse assunto estÃ¡ muito em alta!

Recomendamos conferir este material que lista vÃ¡rias ferramentas e pacotes para usar com R: [Large Language Model tools for R](https://luisdva.github.io/llmsr-book/) 
:::



### `{ellmer}`

<img src="images/logo-ellmer.png" class="img-rstudio" align="right" width="120px"/>

Com o avanÃ§o dos *large language models* (LLM), diversos pacotes foram criados para facilitar o uso desses modelos no R. Um exemplo Ã© o pacote `{openai}`, que permite o uso dos modelos da OpenAI (como o GPT) no R. PorÃ©m logo muitos provedores foram criados, e cada um com sua API e forma de uso.



O pacote [`{ellmer}`](https://ellmer.tidyverse.org/) foi criado para facilitar o uso de modelos LLM no partir do R, utilizando uma interface unificada para diversos provedores!



Ele apresenta suporte para vÃ¡rios provedores de LLM, como OpenAI, Ollama, Google Gemini, DeepSeek, Claude (Anthropic), entre outros. VocÃª pode consultar a lista completa na [documentaÃ§Ã£o do pacote](https://ellmer.tidyverse.org/#providers).

Para utilizar o pacote, Ã© necessÃ¡rio 1) instalar e 2) configurar a chave de acesso ao modelo LLM como uma variÃ¡vel de ambiente.

1) Instalar:

```{r}
#| eval: false
install.packages("ellmer")
```

2) Configurar a chave de acesso ao modelo LLM como uma variÃ¡vel de ambiente:

Abra o arquivo `.Renviron` e adicione a chave de acesso ao modelo LLM. Para abrir o arquivo, utilize a funÃ§Ã£o:

```{r}
#| eval: false
usethis::edit_r_environ()
```

Adicione nesse arquivo a chave, seguindo o padrÃ£o `NOME_KEY="VALOR_KEY"`. No caso da Open AI, o nome da chave deve ser `OPENAI_API_KEY`. Exemplo:

```
OPENAI_API_KEY="...."
```
ApÃ³s adicionar a API Key, salve o arquivo e reinicie a sessÃ£o do R antes de continuar.


Agora, vocÃª pode utilizar o pacote para fazer perguntas ao modelo LLM. Por exemplo, para fazer uma pergunta ao modelo GPT-4 da OpenAI,  precisamos primeiramente iniciar o chat:

```{r}
#| eval: false
chat_criado <- ellmer::chat_openai(model = "gpt-4o")
```

O objeto `chat_criado` Ã© diferente dos tipos de objetos que exploramos no curso: ele Ã© da classe R6:

```{r}
#| eval: false
class(chat_criado)
# [1] "Chat" "R6"  
```
Isso significa que esse objeto tem mÃ©todos especÃ­ficos que podemos utilizar de forma similar a funÃ§Ãµes, porÃ©m os mÃ©todos sÃ£o como elementos de uma lista: acessamos usando o `$`.

Para saber quais sÃ£o os mÃ©todos disponÃ­veis, podemos usar a funÃ§Ã£o `names()`:

```{r}
#| eval: false
names(chat_criado)
#  [1] ".__enclos_env__"    "clone"              "register_tool"     
#  [4] "stream_async"       "stream"             "chat_async"        
#  [7] "extract_data_async" "extract_data"       "chat"              
# [10] "last_turn"          "tokens"             "set_system_prompt" 
# [13] "get_model"          "get_system_prompt"  "set_turns"         
# [16] "get_turns"          "initialize"        
```

Para fazer uma pergunta ao chat, podemos usar o mÃ©todo `chat()`. Vamos fazer alguns exemplos **nada sÃ©rios** de perguntas:

```{r}
#| eval: false
resposta <- chat$chat("Quem Ã© beatriz milz?", echo = FALSE)
resposta
```


> "Beatriz Milz Ã© uma cientista de dados e influenciadora digital brasileira conhecida por seu trabalho na divulgaÃ§Ã£o cientÃ­fica e educaÃ§Ã£o sobre ciÃªncia de dados e programaÃ§Ã£o. Ela possui um canal no YouTube e outras redes sociais onde compartilha conteÃºdos relacionados a anÃ¡lise de dados, R e Python, entre outros tÃ³picos tÃ©cnicos e profissionais. Beatriz Ã© reconhecida por sua habilidade em ensinar conceitos complexos de forma acessÃ­vel e por fomentar a inclusÃ£o e diversidade na Ã¡rea de tecnologia."


Eu (Beatriz) nÃ£o concordo na parte de "influenciadora digital", mas acertou algumas coisas! Vamos tentar outro prompt?


```{r}
#| eval: false
resposta_2 <- chat$chat("Quem Ã© Rafael H. M. Pereira ?", echo = FALSE)
resposta_2
```

> "Rafael H. M. Pereira Ã© um pesquisador conhecido por seu trabalho em Ã¡reas como geografia urbana, mobilidade urbana e justiÃ§a social. Ele tem uma formaÃ§Ã£o interdisciplinar que combina geografia, planejamento urbano e questÃµes sociais, e frequentemente utiliza mÃ©todos quantitativos e ferramentas de ciÃªncia de dados em suas pesquisas. Seus estudos muitas vezes focam em entender como polÃ­ticas urbanas e de transporte podem impactar diversos grupos sociais de maneira desigual, avaliando acessibilidade e equidade. Rafael H. M. Pereira Ã© ativo em publicaÃ§Ãµes acadÃªmicas e pode estar associado a instituiÃ§Ãµes de pesquisa ou ensino superior."


Parece que o modelo acertou mais no caso do Rafael! ğŸ˜…

Vamos fazer uma pergunta polÃªmica:

```{r}
#| eval: false
resposta_3 <- chat$chat("Qual Ã© a melhor linguagem de programaÃ§Ã£o para analisar dados?", echo = FALSE)

resposta_3
```

> "A escolha da melhor linguagem de programaÃ§Ã£o para anÃ¡lise de dados pode depender de vÃ¡rios fatores, incluindo o ambiente de trabalho, os requisitos especÃ­ficos do projeto e a experiÃªncia pessoal. No entanto, algumas linguagens se destacam na comunidade de anÃ¡lise de dados:
1. **Python**: Ã‰ uma das linguagens mais populares para anÃ¡lise de dados. Possui uma vasta gama de bibliotecas e ferramentas, como Pandas, NumPy, Matplotlib, Seaborn, SciPy, Scikit-learn, entre outras, que facilitam a manipulaÃ§Ã£o, visualizaÃ§Ã£o e modelagem de dados.
2. **R**: Muito utilizado em estatÃ­stica e ciÃªncia de dados, R Ã© conhecido por suas poderosas capacidades de anÃ¡lise estatÃ­stica e visualizaÃ§Ã£o grÃ¡fica. Pacotes como dplyr, ggplot2 e tidyr tornam o R uma escolha excelente para anÃ¡lise de dados exploratÃ³ria e estatÃ­stica.
3. **SQL**: Embora nÃ£o seja uma linguagem de programaÃ§Ã£o no sentido tradicional, SQL Ã© essencial para consultar e manipular dados em bancos de dados relacionais. Ã‰ uma habilidade importante para qualquer analista de dados.
4. **Julia**: Ã‰ uma linguagem mais recente que foi projetada para alta performance em cÃ¡lculos numÃ©ricos. EstÃ¡ ganhando popularidade em anÃ¡lise de dados e ciÃªncias computacionais por sua velocidade e eficiÃªncia.
A escolha entre essas linguagens pode ser guiada pelo tipo de anÃ¡lise que vocÃª pretende realizar, a comunidade de apoio (fÃ³runs, pacotes, recursos educacionais) e as ferramentas jÃ¡ em uso na sua organizaÃ§Ã£o ou equipe. Python e R sÃ£o geralmente as escolhas mais comuns devido Ã  sua versatilidade e ampla adoÃ§Ã£o na indÃºstria e na academia."


O modelo nÃ£o quis participar da briga das torcidas de futebol dos times Python e R! ğŸ˜…


Esse breve (e ilustrativo) exemplo mostra como podemos utilizar o pacote `{ellmer}` para fazer perguntas para ferramentas de LLM diretamente do R.

### `{chores}`

<img src="images/logo-chores.png" class="img-rstudio" align="right" width="120px"/>


O pacote [`{chores}`](https://github.com/simonpcouch/chores) (anteriormente chamado de `pal`) Ã© um pacote que fornece assistentes de LLM projetados para ajudar a completar tarefas repetitivas.

Com esse pacote, vocÃª pode configurar um atalho do teclado para iniciar o assistente. Depois disso, vocÃª pode selecionar o cÃ³digo e pressionar o atalho do teclado para que o assistente te ajude na tarefa desejada.

A documentaÃ§Ã£o do pacote apresenta um GIF que mostra como o pacote funciona:

[![Exemplo de uso do pacote chores. Fonte da imagem: documentaÃ§Ã£o do pacote](images/chores-addin.gif)](https://github.com/simonpcouch/chores)


### `{gander}`

<img src="images/logo-gander.png" class="img-rstudio" align="right" width="120px"/>


O pacote [`{gander}`](https://simonpcouch.github.io/gander/) possibilita utilizar o ellmer para interagir com assistentes de LLM diretamente do RStudio em um chat. 

Neste caso, criamos um atalho para iniciar o chat a partir de um cÃ³digo selecionado, e ele consegue ter o contexto dos cÃ³digos do projeto em que estamos trabalhando e os objetos disponÃ­veis no *Environment*.



A documentaÃ§Ã£o do pacote apresenta um GIF que mostra como o pacote funciona:

[![Exemplo de uso do pacote gander. Fonte da imagem: documentaÃ§Ã£o do pacote](images/gander.gif)](https://simonpcouch.github.io/gander/)


Para usar o pacote, existem alguns passos que precisam ser seguidos. Primeiro, instale os pacotes `gander` e `ellmer`:

```{r}
#| eval: false
install.packages("ellmer")
install.packages("gander")
```

Configure o atalho do teclado para iniciar o chat: isso depende da IDE que estÃ¡ usando. A [documentaÃ§Ã£o](https://simonpcouch.github.io/gander/#installation) detalha como fazer isso no RStudio e no Positron. No RStudio, Ã© necessÃ¡rio acessar as configuraÃ§Ãµes de atalho: `Tools` > `Modify Keyboard Shortcuts`, e entÃ£o pesquisar por `gander`. Depois de encontrar o atalho, vocÃª pode configurar o atalho que deseja utilizar. A documentaÃ§Ã£o sugere usar o atalho `Ctrl + Alt + G` (ou `Cmd + Control + G` no macOS).

![Configurar atalho](images/gander-atalho.png)

Se tentarmos usar o atalho agora, veremos essa mensagem:
```
! gander requires configuring an ellmer Chat with the
  .gander_chat option.
â„¹ Set e.g. `options(.gander_chat =
  ellmer::chat_claude())` in your ~/.Rprofile and restart
  R.
â„¹ See "Choosing a model" in `vignette("gander", package =
  "gander")` to learn more.
```

Existem mais configuraÃ§Ãµes que precisam ser feitas para que o pacote funcione corretamente!

Salve a chave de acesso ao modelo LLM como uma variÃ¡vel de ambiente. Para isso, adicione a chave de acesso ao modelo LLM no arquivo `.Renviron` (para abrir este arquivo, vocÃª pode usar a funÃ§Ã£o `usethis::edit_r_environ()`. 

```{r}
#| eval: false
usethis::edit_r_environ()
```

O nome da chave depende do provedor do modelo LLM. Por exemplo, para a OpenAI, o nome da chave deve ser `OPENAI_API_KEY`. Lembrando que no arquivo `.Renviron` a chave deve seguir o padrÃ£o `NOME_KEY="VALOR_KEY"`. Exemplo:

```
OPENAI_API_KEY="..."
```
Reinicie a sessÃ£o do R para que a variÃ¡vel de ambiente seja encontrada.

Configure a opÃ§Ã£o `.gander_chat` para usar o modelo LLM que deseja. Por exemplo, para usar o modelo da OpenAI, vocÃª pode configurar da seguinte forma:

```{r}
#| eval: false
options(.gander_chat = ellmer::chat_openai())

#> Using model = "gpt-4o".
```

Agora, vocÃª pode utilizar o gander! Selecione o cÃ³digo desejado e pressionando o atalho para iniciar o chat. O chat serÃ¡ aberto com o contexto do cÃ³digo selecionado e do ambiente do RStudio.

Obs: o atalho criado Ã© uma chamada para a funÃ§Ã£o `gander::gander_addin()`, que tambÃ©m pode ser acessada no menu de `Addins` do RStudio. Se vocÃª preferir, pode acessar o chat por lÃ¡.


A funÃ§Ã£o ``gander::gander_peek()`` permite ter informaÃ§Ãµes sobre o contexto usado pelo assistente de LLM. No exemplo abaixo, eu criei um script carregando o pacote `{tidyverse}`, e solicitei que ele gerasse o cÃ³digo para criar um grÃ¡fico em `{ggplot2}` com os dados do dataset `starwars`. O assistente respondeu com o cÃ³digo para criar um grÃ¡fico de dispersÃ£o com os dados de altura e peso dos personagens do Star Wars:

```{r}
#| eval: false
gander::gander_peek()

# <Chat turns=3 tokens=166/25>
# â”€â”€ system â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# You are a helpful but terse R data scientist. When 
# asked for code, provide only the requested code, no
# exposition nor backticks, unless explicitly asked. 
# Always provide a minimal solution and refrain from 
# unnecessary additions. Use tidyverse style and, 
# when relevant, tidyverse packages. For example, 
# when asked to plot something, use ggplot2, or when 
# asked to transform data, using dplyr and/or tidyr 
# unless explicitly instructed otherwise. 
# â”€â”€ user â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Up to this point, the contents of my  file reads: 
# 
# library(tidyverse)
# 
# Now, crie um grÃ¡fico com ggplot2 usando os dados do
# starwars: 
# 
# starwars
# 
# For context, the rest of the file reads: 
# 
# starwars
# â”€â”€ assistant â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ggplot(starwars, aes(x = height, y = mass)) +
#   geom_point()
```






Atualmente, o pacote funciona bem em arquivos `.R`, mas tem dificuldades em fornecer respostas formatadas adequadamente em arquivos `.Qmd` e formatos de arquivo relacionados.




## Material

Alguns trechos deste texto foram adaptados do post ["Como comeÃ§ar a utilizar o GitHub Copilot?"](https://beamilz.com/posts/2025-02-24-github-copilot-rstudio/pt/), escrito por [Beatriz Milz](https://beamilz.com/).

## Extra

- [2025] [Large Language Model tools for R](https://luisdva.github.io/llmsr-book/) - lista de ferramentas/pacotes para usar LLMs no R.

- [2023] A palestra ["Large Language Models no Direito"](https://jtrecenti.github.io/slides/docs/gptjur/index.html#/title-slide) ([video disponÃ­vel no Youtube](https://www.youtube.com/live/XaoUJkplDJM?feature=shared&t=470) e [cÃ³digo disponÃ­vel no GitHub](https://github.com/jtrecenti/slides/tree/master/20230920-gptjur)) Ã© um exemplo de aplicaÃ§Ã£o de uso de LLMs no R.

- [2024]: Live da Curso-R: [Positron: o filho do RStudio com o VS Code](https://www.youtube.com/live/1wwPgLsJCZw?feature=shared) com Caio Lente.


